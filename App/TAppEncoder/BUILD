cc_library(
    name = "TLibCommon",
    srcs = ["ContextModel.cpp", 
            "ContextModel3DBuffer.cpp",
            "Debug.cpp",
            "SEI.cpp",
            "TComBitStream.cpp",
            "TComCABACTables.cpp",
            "TComChromaFormat.cpp",
            "TComDataCU.cpp",
            "TComInterpolationFilter.cpp",
            "TComLoopFilter.cpp",
            "TComMotionInfo.cpp",
            "TComPattern.cpp",
            "TComPic.cpp",
            "TComPicSym.cpp",
            "TComPicYuv.cpp",
            "TComPicYuvMD5.cpp",
            "TComPrediction.cpp",
            "TComRdCost.cpp",
            "TComRdCostWeightPrediction.cpp",
            "TComRom.cpp",
            "TComSampleAdaptiveOffset.cpp",
            "TComSlice.cpp",
            "TComTrQuant.cpp",
            "TComTU.cpp",
            "TComWedgelet.cpp",
            "TComWeightPrediction.cpp",
            "TComYuv.cpp",
            "libmd5.cpp",
            "TRenFilter.cpp", 
            "TRenImage.cpp",
            "TRenImagePlane.cpp",
            "TRenInterpFilter.cpp",
            "TRenModel.cpp",
            "TRenModSetupStrParser.cpp",
            "TRenSingleModel.cpp",
            "TRenTop.cpp",
            "program_options_lite.cpp", 
            "TAppComCamPara.cpp",
            "NALwrite.cpp",
            "SEIEncoder.cpp",
            "SEIwrite.cpp",
            "SyntaxElementWriter.cpp",
            "TEncBinCoderCABAC.cpp",
            "TEncBinCoderCABACCounter.cpp",
            "TEncCavlc.cpp",
            "TEncCu.cpp",
            "TEncEntropy.cpp",
            "TEncGOP.cpp",
            "TEncPic.cpp",
            "TEncPreanalyzer.cpp",
            "TEncRateCtrl.cpp",
            "TEncSampleAdaptiveOffset.cpp",
            "TEncSbac.cpp",
            "TEncSearch.cpp",
            "TEncSlice.cpp", 
            "TEncTop.cpp",
            "WeightPredAnalysis.cpp",
            "TVideoIOYuv.cpp",
            "TDecSbac.cpp",
            "TDecEntropy.cpp",
            "TAppEncTop.cpp",
            "TAppEncCfg.cpp"
    		],
    hdrs = [
            "AphaTensorflowGlobalVars.h",
            "AphaTimeCost.h",
            "TAppEncCfg.h",
            "TAppEncTop.h",
            "TEncAnalyze.h",
            "TDecEntropy.h",
            "TDecBinCoder.h",
            "TDecSbac.h",
            "TVideoIOYuv.h",
            "WeightPredAnalysis.h",
            "TEncSlice.h",
            "TEncTop.h",
            "TEncSbac.h",
            "TEncSearch.h",
            "TEncSampleAdaptiveOffset.h",
            "TEncPreanalyzer.h",
            "TEncRateCtrl.h",
            "TEncGOP.h",
            "TEncPic.h",
            "TEncCu.h",
            "TEncEntropy.h",
            "TEncCavlc.h",
            "TEncCfg.h",
            "TEncBinCoderCABACCounter.h",
            "TEncBinCoder.h",
            "TEncBinCoderCABAC.h",
            "SyntaxElementWriter.h",
            "SEIwrite.h",
            "AccessUnit.h", 
            "CommonDef.h",
            "ContextModel.h",
            "ContextModel3DBuffer.h",
            "ContextTables.h",
            "Debug.h",
            "NAL.h",
            "SEI.h",
            "TComBitCounter.h",
            "TComBitStream.h",	
            "TComCABACTables.h",
            "TComChromaFormat.h",
            "TComCodingStatistics.h",
            "TComDataCU.h",
            "TComInterpolationFilter.h",
            "TComList.h",
            "TComLoopFilter.h",
            "TComMotionInfo.h",
            "TComMv.h",
            "TComPattern.h",
            "TComPic.h",
            "TComPicSym.h",
            "TComPicYuv.h",
            "TComPrediction.h",
            "TComRdCost.h",
            "TComRdCostWeightPrediction.h",
            "TComRectangle.h",
            "TComRom.h",
            "TComSampleAdaptiveOffset.h",
            "TComSlice.h",
            "TComTrQuant.h",
            "TComTU.h",
            "TComWedgelet.h",
            "TComWeightPrediction.h",
            "TComYuv.h",
            "TypeDef.h",
            "libmd5.h",
            "MD5.h",
            "TRenFilter.h", 
            "TRenImage.h",
            "TRenImagePlane.h",
            "TRenInterpFilter.h",
            "TRenModel.h",
            "TRenModSetupStrParser.h",
            "TRenSingleModel.h",
            "TRenTop.h",
            "program_options_lite.h", "TAppComCamPara.h",
            "AnnexBwrite.h",
            "csvfile.h",
            "NALwrite.h",
            "SEIEncoder.h",
    		],
    deps = [
        "//tensorflow/cc:cc_ops",
        "//tensorflow/core:tensorflow",
    ],
#    visibility = [
#                "//HTM162/App/TAppEncoder:TAppEncoder",
#                ],
)

cc_binary(
    name = "TAppEncoder",
    srcs = ["encmain.cpp"],
    deps = [
        "//tensorflow/cc:cc_ops",
        "//tensorflow/core:tensorflow",
        ":TLibCommon",
    ],
)